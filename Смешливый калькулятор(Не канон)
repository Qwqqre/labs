#include <iostream>
#include <cmath>

long double Add(long double a, long double b);
long double Subtract(long double a, long double b);
long double Multiply(long double a, long double b);
bool Divide(long double a, long double b, long double& result);
long double Power(long double base, long double exponent);
bool SquareRoot(long double x, long double& result);
bool NaturalLogarithm(long double x, long double& result);
bool CommonLogarithm(long double x, long double& result);
long double Sine(long double x);
long double Cosine(long double x);
long double Tangent(long double x);
void ShowMenu();

int main() {
    std::cout.setf(std::ios::fixed);
    std::cout.precision(6);

    int choice;
    long double num1 = 0.0, num2 = 0.0, result;
    do {
        ShowMenu();
        std::cout << "Ваш выбор: ";
        std::cin >> choice;

        if (choice == 0) break;

        if (choice >= 1 && choice <= 5) {
            std::cout << "Введите два числа: ";
            std::cin >> num1 >> num2;
        } else if (choice >= 6 && choice <= 8) {
            std::cout << "Введите число: ";
            std::cin >> num1;
        } else if (choice >= 9 && choice <= 11) {
            std::cout << "Введите угол в радианах: ";
            std::cin >> num1;
        }

        switch (choice) {
            case 1:
                std::cout << "Результат: " << num1 << " + " << num2 << " = " << Add(num1, num2) << "\n";
                break;
            case 2:
                std::cout << "Результат: " << num1 << " - " << num2 << " = " << Subtract(num1, num2) << "\n";
                break;
            case 3:
                std::cout << "Результат: " << num1 << " * " << num2 << " = " << Multiply(num1, num2) << "\n";
                break;
            case 4:
                if (Divide(num1, num2, result))
                    std::cout << "Результат: " << num1 << " / " << num2 << " = " << result << "\n";
                else
                    std::cout << "Ошибка: деление на ноль невозможно.\n";
                break;
            case 5:
                std::cout << "Результат: " << num1 << " ^ " << num2 << " = " << Power(num1, num2) << "\n";
                break;
            case 6:
                if (SquareRoot(num1, result))
                    std::cout << "Результат: √" << num1 << " = " << result << "\n";
                else
                    std::cout << "Ошибка: нельзя извлечь корень из отрицательного числа.\n";
                break;
            case 7:
                if (NaturalLogarithm(num1, result))
                    std::cout << "Результат: ln(" << num1 << ") = " << result << "\n";
                else
                    std::cout << "Ошибка: логарифм от неположительного числа не определён.\n";
                break;
            case 8:
                if (CommonLogarithm(num1, result))
                    std::cout << "Результат: log10(" << num1 << ") = " << result << "\n";
                else
                    std::cout << "Ошибка: логарифм от неположительного числа не определён.\n";
                break;
            case 9:
                std::cout << "Результат: sin(" << num1 << ") = " << Sine(num1) << "\n";
                break;
            case 10:
                std::cout << "Результат: cos(" << num1 << ") = " << Cosine(num1) << "\n";
                break;
            case 11:
                std::cout << "Результат: tan(" << num1 << ") = " << Tangent(num1) << "\n";
                break;
            default:
                std::cout << "Неверный выбор. Попробуйте снова.\n";
        }

        std::cout << "(значение округлено до 6 знаков после запятой)\n";

    } while (true);

    std::cout << "\nСпасибо за использование калькулятора. До встречи!\n";
    return 0;
}

long double Add(long double a, long double b)       { return a + b; }
long double Subtract(long double a, long double b)  { return a - b; }
long double Multiply(long double a, long double b)  { return a * b; }

bool Divide(long double a, long double b, long double& result) {
    if (b == 0.0L) return false;
    result = a / b;
    return true;
}

long double Power(long double base, long double exponent) {
    return std::pow(base, exponent);
}

bool SquareRoot(long double x, long double& result) {
    if (x < 0.0L) return false;
    result = std::sqrt(x);
    return true;
}

bool NaturalLogarithm(long double x, long double& result) {
    if (x <= 0.0L) return false;
    result = std::log(x);
    return true;
}

bool CommonLogarithm(long double x, long double& result) {
    if (x <= 0.0L) return false;
    result = std::log10(x);
    return true;
}

long double Sine(long double x)   { return std::sin(x); }
long double Cosine(long double x) { return std::cos(x); }
long double Tangent(long double x){ return std::tan(x); }

void ShowMenu() {
    std::cout << "\nДоступные операции:\n";
    std::cout << "  1. Сложение\n";
    std::cout << "  2. Вычитание\n";
    std::cout << "  3. Умножение\n";
    std::cout << "  4. Деление\n";
    std::cout << "  5. Возведение в степень\n";
    std::cout << "  6. Корень\n";
    std::cout << "  7. Натуральный логарифм\n";
    std::cout << "  8. Десятичный логарифм\n";
    std::cout << "  9. Синус\n";
    std::cout << " 10. Косинус\n";
    std::cout << " 11. Тангенс\n";
    std::cout << "  0. Выход\n";
}
